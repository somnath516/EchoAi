<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuraChat AI Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
            transition: all 0.3s ease;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .chat-container {
            max-height: 500px;
            overflow-y: auto;
            scroll-behavior: smooth;
            scrollbar-width: thin;
            scrollbar-color: #cbd5e0 transparent;
        }
        
        .chat-container::-webkit-scrollbar {
            width: 6px;
        }
        
        .chat-container::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .chat-container::-webkit-scrollbar-thumb {
            background-color: #cbd5e0;
            border-radius: 3px;
        }
        
        .message {
            max-width: 75%;
            animation: messageSlideIn 0.4s cubic-bezier(0.18, 1.25, 0.4, 1);
            transform-origin: center bottom;
        }
        
        @keyframes messageSlideIn {
            0% {
                opacity: 0;
                transform: translateY(20px) scale(0.95);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .user-message {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            border-radius: 18px 18px 4px 18px;
            box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3);
        }
        
        .ai-message {
            background: white;
            color: #374151;
            border-radius: 18px 18px 18px 4px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #e5e7eb;
        }
        
        .typing-indicator {
            display: inline-flex;
            align-items: center;
            padding: 12px 16px;
            background: white;
            border-radius: 18px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #6b7280;
            margin: 0 3px;
            animation: typingBounce 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(2) { animation-delay: 0.16s; }
        .typing-dot:nth-child(3) { animation-delay: 0.32s; }
        
        @keyframes typingBounce {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.6;
            }
            30% {
                transform: translateY(-5px);
                opacity: 1;
            }
        }
        
        .message-status {
            font-size: 11px;
            opacity: 0.7;
        }
        
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .ai-avatar {
            background: linear-gradient(135deg, #10b981, #059669);
        }
        
        .user-avatar {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
        }
        
        .suggestion-chip {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .suggestion-chip:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .chat-input {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.9);
        }
        
        .message-reaction {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .message:hover .message-reaction {
            opacity: 1;
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-900">
    <div class="w-full max-w-2xl mx-auto fade-in">
        <!-- Header -->
        <div class="bg-gradient-to-r from-indigo-600 to-purple-700 text-white p-6 rounded-t-2xl shadow-2xl">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="avatar ai-avatar pulse">
                        <i class="fas fa-brain text-white text-lg"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold">NeuraChat AI</h1>
                        <p class="text-indigo-100 text-sm flex items-center">
                            <span class="w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"></span>
                            Online • Specialized in comprehensive assistance
                        </p>
                    </div>
                </div>
                <div class="flex space-x-3">
                    <button class="w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all duration-300 transform hover:scale-110">
                        <i class="fas fa-cog text-sm"></i>
                    </button>
                    <button class="w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all duration-300 transform hover:scale-110">
                        <i class="fas fa-times text-sm"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Chat Messages Container -->
        <div class="chat-container bg-gray-50 p-6 h-96" id="chatMessages">
            <!-- Welcome message -->
            <div class="flex items-start space-x-3 mb-6">
                <div class="avatar ai-avatar">
                    <i class="fas fa-robot text-white"></i>
                </div>
                <div class="message ai-message px-5 py-3">
                    <p class="text-gray-800">Hello! I'm NeuraChat, your AI assistant. I'm here to help you with research, writing, problem-solving, and much more. What would you like to explore today?</p>
                    <div class="flex items-center justify-between mt-2">
                        <span class="message-status text-gray-500 text-xs">AI • Just now</span>
                        <div class="message-reaction flex space-x-1">
                            <button class="w-6 h-6 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-xs">
                                <i class="fas fa-thumbs-up"></i>
                            </button>
                            <button class="w-6 h-6 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-xs">
                                <i class="fas fa-thumbs-down"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick suggestions -->
            <div class="grid grid-cols-2 gap-2 mb-6">
                <div class="suggestion-chip rounded-xl px-4 py-3 text-center text-white text-sm cursor-pointer" onclick="quickSuggestion('Can you help me with research?')">
                    <i class="fas fa-search mr-2"></i>Research Help
                </div>
                <div class="suggestion-chip rounded-xl px-4 py-3 text-center text-white text-sm cursor-pointer" onclick="quickSuggestion('I need writing assistance')">
                    <i class="fas fa-pen mr-2"></i>Writing Help
                </div>
                <div class="suggestion-chip rounded-xl px-4 py-3 text-center text-white text-sm cursor-pointer" onclick="quickSuggestion('Explain complex topics')">
                    <i class="fas fa-lightbulb mr-2"></i>Explain Concepts
                </div>
                <div class="suggestion-chip rounded-xl px-4 py-3 text-center text-white text-sm cursor-pointer" onclick="quickSuggestion('Help me solve a problem')">
                    <i class="fas fa-puzzle-piece mr-2"></i>Problem Solving
                </div>
            </div>
        </div>

        <!-- Input Area -->
        <div class="chat-input rounded-b-2xl p-4 border-t border-gray-200">
            <div class="flex items-center space-x-3">
                <div class="flex-1 relative">
                    <input 
                        type="text" 
                        id="userInput" 
                        placeholder="Message NeuraChat..." 
                        class="w-full border-0 bg-white rounded-2xl px-5 py-4 pr-12 text-gray-800 placeholder-gray-500 focus:ring-2 focus:ring-indigo-500 focus:outline-none shadow-sm"
                        onkeypress="handleKeyPress(event)"
                    >
                    <div class="absolute right-3 top-1/2 transform -translate-y-1/2 flex space-x-2">
                        <button class="w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600 text-sm">
                            <i class="fas fa-paperclip"></i>
                        </button>
                        <button class="w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600 text-sm">
                            <i class="fas fa-microphone"></i>
                        </button>
                    </div>
                </div>
                <button 
                    onclick="sendMessage()" 
                    id="sendButton"
                    class="bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl w-14 h-14 flex items-center justify-center transition-all duration-300 transform hover:scale-105 shadow-lg"
                >
                    <i class="fas fa-paper-plane text-lg"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Enhanced response database with more human-like patterns
        const responseDatabase = {
            greetings: [
                "Hello! It's great to connect with you. What would you like to explore today?",
                "Hi there! I'm ready to assist you. What's on your mind?",
                "Greetings! I'm here to help. What can I do for you today?"
            ],
            research: [
                "I'd be happy to help with research. Could you specify the topic or area you're interested in exploring?",
                "Research assistance - absolutely. What specific subject would you like me to help you investigate?",
                "I can certainly help with research. What particular information are you looking to find?"
            ],
            writing: [
                "Writing assistance is one of my specialties. Are you working on a specific type of document or content?",
                "I'd be glad to help with writing. What kind of writing project are you working on?",
                "Writing help - certainly. Could you share more about the context and purpose of your writing?"
            ],
            explanation: [
                "I'd be happy to explain that. Could you provide more details about what specifically you'd like me to clarify?",
                "Explanation assistance - of course. What concept or topic would you like me to break down for you?",
                "I can certainly help explain that. What aspects are you finding challenging to understand?"
            ],
            problem: [
                "Problem-solving is something I enjoy. Could you describe the challenge you're facing in more detail?",
                "I'd be happy to help you solve that problem. What have you tried so far?",
                "Let's tackle this problem together. Could you walk me through the specific issue you're encountering?"
            ],
            general: [
                "That's an interesting question. Let me think about the best way to approach this...",
                "I appreciate you asking that. There are several perspectives we could consider...",
                "That's a thoughtful question. Based on my knowledge, I'd suggest considering...",
                "I understand what you're asking. Let me provide some insights that might be helpful...",
                "Great question! There are a few important aspects to consider here..."
            ],
            followup: [
                "Does that help address your question, or would you like me to elaborate on any specific aspect?",
                "I hope that provides some clarity. Is there anything else you'd like me to expand on?",
                "Does this approach make sense for what you're trying to accomplish?",
                "Would you like me to go into more detail about any particular part of this?",
                "Does that answer your question, or would you like to explore this from a different angle?"
            ]
        };

        let conversationContext = {
            lastTopic: null,
            messageCount: 0,
            userInterests: []
        };

        function getCurrentTime() {
            return new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }

        function getRealisticResponse(userMessage) {
            conversationContext.messageCount++;
            
            // Simple NLP to detect intent
            const message = userMessage.toLowerCase();
            let responseType = 'general';
            
            if (message.includes('hello') || message.includes('hi') || message.includes('hey')) {
                responseType = 'greetings';
            } else if (message.includes('research') || message.includes('find') || message.includes('information')) {
                responseType = 'research';
                conversationContext.lastTopic = 'research';
            } else if (message.includes('write') || message.includes('content') || message.includes('document')) {
                responseType = 'writing';
                conversationContext.lastTopic = 'writing';
            } else if (message.includes('explain') || message.includes('what is') || message.includes('how does')) {
                responseType = 'explanation';
                conversationContext.lastTopic = 'explanation';
            } else if (message.includes('problem') || message.includes('help') || message.includes('solve')) {
                responseType = 'problem';
                conversationContext.lastTopic = 'problem';
            }
            
            // Get base response
            const responses = responseDatabase[responseType];
            let response = responses[Math.floor(Math.random() * responses.length)];
            
            // Add follow-up question occasionally for more natural conversation
            if (conversationContext.messageCount > 1 && Math.random() > 0.6) {
                const followUps = responseDatabase.followup;
                response += ' ' + followUps[Math.floor(Math.random() * followUps.length)];
            }
            
            return response;
        }

        function addMessage(message, isUser = false) {
            const chatContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `flex items-start space-x-3 mb-4 ${isUser ? 'justify-end' : ''}`;
            
            if (isUser) {
                messageDiv.innerHTML = `
                    <div class="flex items-end space-x-2 justify-end">
                        <div class="message user-message px-5 py-3">
                            <p>${message}</p>
                            <div class="flex items-center justify-between mt-2">
                                <span class="message-status text-blue-100 text-xs">You • ${getCurrentTime()}</span>
                                <div class="message-reaction flex space-x-1">
                                    <button class="w-6 h-6 rounded-full bg-blue-500/20 hover:bg-blue-500/30 flex items-center justify-center text-xs text-white">
                                        <i class="fas fa-check-double"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="avatar user-avatar">
                            <i class="fas fa-user text-white text-sm"></i>
                        </div>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="flex items-start space-x-3">
                        <div class="avatar ai-avatar">
                            <i class="fas fa-robot text-white"></i>
                        </div>
                        <div class="message ai-message px-5 py-3">
                            <p class="text-gray-800">${message}</p>
                            <div class="flex items-center justify-between mt-2">
                                <span class="message-status text-gray-500 text-xs">AI • ${getCurrentTime()}</span>
                                <div class="message-reaction flex space-x-1">
                                    <button class="w-6 h-6 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-xs" onclick="reactToMessage(this, 'like')">
                                        <i class="fas fa-thumbs-up"></i>
                                    </button>
                                    <button class="w-6 h-6 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-xs" onclick="reactToMessage(this, 'dislike')">
                                        <i class="fas fa-thumbs-down"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function showTypingIndicator() {
            const chatContainer = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typingIndicator';
            typingDiv.className = 'flex items-start space-x-3 mb-4';
            typingDiv.innerHTML = `
                <div class="avatar ai-avatar">
                    <i class="fas fa-robot text-white"></i>
                </div>
                <div class="typing-indicator">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            `;
            chatContainer.appendChild(typingDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function sendMessage() {
            const input = document.getElementById('userInput');
            const message = input.value.trim();
            const sendButton = document.getElementById('sendButton');
            
            if (message) {
                // Add user message
                addMessage(message, true);
                input.value = '';
                
                // Disable send button during processing
                sendButton.disabled = true;
                sendButton.classList.add('opacity-50');
                
                // Show typing indicator with realistic timing
                showTypingIndicator();
                
                // Simulate AI thinking with variable timing (more human-like)
                const thinkingTime = 1000 + Math.random() * 2000;
                const typingTime = 500 + Math.random() * 1500;
                
                setTimeout(() => {
                    hideTypingIndicator();
                    const response = getRealisticResponse(message);
                    
                    // Simulate typing character by character for more realism
                    let typedResponse = '';
                    let charIndex = 0;
                    const typingInterval = setInterval(() => {
                        if (charIndex < response.length) {
                            typedResponse += response.charAt(charIndex);
                            
                            // Update or create AI message
                            const existingResponse = document.getElementById('aiResponse');
                            if (existingResponse) {
                                existingResponse.querySelector('p').textContent = typedResponse;
                            } else {
                                const tempDiv = document.createElement('div');
                                tempDiv.id = 'aiResponse';
                                tempDiv.className = 'flex items-start space-x-3 mb-4';
                                tempDiv.innerHTML = `
                                    <div class="avatar ai-avatar">
                                        <i class="fas fa-robot text-white"></i>
                                    </div>
                                    <div class="message ai-message px-5 py-3">
                                        <p class="text-gray-800">${typedResponse}</p>
                                        <div class="flex items-center justify-between mt-2">
                                            <span class="message-status text-gray-500 text-xs">AI • Typing...</span>
                                        </div>
                                    </div>
                                `;
                                document.getElementById('chatMessages').appendChild(tempDiv);
                            }
                            
                            document.getElementById('chatMessages').scrollTop = document.getElementById('chatMessages').scrollHeight;
                            charIndex++;
                        } else {
                            clearInterval(typingInterval);
                            
                            // Replace temporary message with final message
                            document.getElementById('aiResponse').remove();
                            addMessage(response, false);
                            
                            // Re-enable send button
                            sendButton.disabled = false;
                            sendButton.classList.remove('opacity-50');
                        }
                    }, 30 + Math.random() * 40); // Variable typing speed
                }, thinkingTime);
            }
        }

        function quickSuggestion(suggestion) {
            document.getElementById('userInput').value = suggestion;
            sendMessage();
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        function reactToMessage(button, reaction) {
            const messageDiv = button.closest('.message');
            const reactionDiv = messageDiv.querySelector('.message-reaction');
            
            if (reaction === 'like') {
                reactionDiv.innerHTML = '<span class="text-green-600 text-xs"><i class="fas fa-thumbs-up mr-1"></i>Liked</span>';
            } else {
                reactionDiv.innerHTML = '<span class="text-red-600 text-xs"><i class="fas fa-thumbs-down mr-1"></i>Disliked</span>';
            }
            
            // Add subtle animation
            messageDiv.style.transform = 'scale(1.02)';
            setTimeout(() => {
                messageDiv.style.transform = 'scale(1)';
            }, 150);
        }

        // Focus input on load with slight delay for better UX
        setTimeout(() => {
            document.getElementById('userInput').focus();
        }, 500);
    </script>
</body>
</html>
